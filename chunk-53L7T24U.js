import{a as ne,b as ie,c as oe,d as ae,e as re}from"./chunk-GFJV3YQ4.js";import{$ as Q,A as p,D as W,E as q,G as M,H as S,I as J,J as O,K as v,L as b,M as C,N as a,O as r,P as x,Q as s,R as g,S as D,T as h,U as d,V as o,W as _,Z as G,_ as H,ba as w,ca as E,da as U,fa as k,ga as X,ha as Y,i as A,ia as V,k as u,ka as Z,la as ee,m as f,ma as te,n as y,u as L,x as K,y as l}from"./chunk-PETORDL5.js";var I=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-assignment-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,i){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),o(5,"view_list"),r(),o(6," View "),r()(),a(7,"li",1)(8,"a",4)(9,"i",3),o(10,"edit_document"),r(),o(11," Form "),r()()()(),x(12,"router-outlet"))},dependencies:[ee,te,Z],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};function B(){return 0}function j(){return[B()]}function ce(){return[j()]}function me(n,t){if(n&1){let e=D();a(0,"div",8)(1,"span",9)(2,"label")(3,"b"),o(4," Number "),a(5,"span",12),o(6),r()(),x(7,"input",13),W(),r()(),a(8,"button",14),h("click",function(){let c=f(e).$index,m=d().$implicit,le=d();return y(le.removeValue(m,c))}),a(9,"i",2),o(10,"delete_forever"),r()()()}if(n&2){let e=t.$implicit,i=t.$index,c=t.$count;l(6),_(i+1),l(),q(e,"formField"),l(),C("disabled",c===1)}}function de(n,t){if(n&1){let e=D();a(0,"fieldset",4)(1,"legend")(2,"button",1),h("click",function(){let c=f(e).$implicit,m=d();return y(m.addValue(c))}),a(3,"i",2),o(4,"add"),r(),o(5," Number "),r(),a(6,"span"),o(7," Section "),a(8,"span",5),o(9),r()(),a(10,"button",6),h("click",function(){let c=f(e).$index,m=d();return y(m.removeItem(c))}),a(11,"i",2),o(12,"delete_forever"),r()()(),a(13,"div",7),v(14,me,11,4,"div",8,O),a(16,"div",8)(17,"span",9)(18,"label")(19,"b"),o(20,"Result"),r(),a(21,"output",10),o(22),w(23,"number"),r()()(),a(24,"button",11)(25,"i",2),o(26,"delete_forever"),r()()()()()}if(n&2){let e=t.$implicit,i=t.$index,c=t.$count,m=d();l(9),_(i+1),l(),C("disabled",c===1),l(4),b(e),l(8),_(E(23,3,e().metadata(m.totalKey)()))}}var N=class n{data=Y.required();totalKey=ie();form=oe(this.data,t=>{ae(t,e=>{ne(e,this.totalKey,({valueOf:i})=>i(e).reduce((c,m)=>c+m,0))})});addItem(){this.form().value.update(t=>[...t,j()])}removeItem(t){this.form().value.update(e=>e.filter((i,c)=>c!==t))}addValue(t){t().value.update(e=>[...e,B()])}removeValue(t,e){t().value.update(i=>i.filter((c,m)=>m!==e))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-dynamic-section-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:9,vars:1,consts:[[1,"_main-form",3,"disabled"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_items-form"],[1,"_item-container"],[1,"_item-titel-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn","app-cl-filled",3,"click","disabled"],[1,"_values-form"],[1,"_value-container"],[1,"_value-input"],[1,"app-cl-number"],["type","button","aria-hidden","true",1,"app-cmp-button","app-cl-warn","app-cl-hidden"],[1,"_value-title-no","app-cl-number"],["type","number",3,"formField"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,i){e&1&&(a(0,"fieldset",0)(1,"legend")(2,"button",1),h("click",function(){return i.addItem()}),a(3,"i",2),o(4,"add"),r(),o(5," Section "),r()(),a(6,"div",3),v(7,de,27,5,"fieldset",4,O),r()()),e&2&&(C("disabled",i.form().disabled()),l(7),b(i.form))},dependencies:[re,V],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-form[_ngcontent-%COMP%]{--_border-color: var(--app-on-surface-color)}}._main-form[_ngcontent-%COMP%]{border:1px solid var(--_border-color)}@layer{._items-form[_ngcontent-%COMP%]{--_row-gap: calc(var(--app-row-gap) * 4);--_border-color: var(--app-on-surface-color);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap)}}@layer{._items-form[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._items-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:var(--_row-gap)}._items-form[_ngcontent-%COMP%] > ._item-container[_ngcontent-%COMP%]{border:1px solid var(--_border-color)}._items-form[_ngcontent-%COMP%] > ._item-container[_ngcontent-%COMP%] > legend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;column-gap:var(--_legend-column-gap);margin-bottom:var(--_body-gap);font-weight:700}._items-form[_ngcontent-%COMP%]   ._item-titel-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}@layer{._values-form[_ngcontent-%COMP%]{--_margin-top: var(--app-row-gap);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap);--_border-color: var(--app-on-surface-color)}}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:12ch;margin-right:1ch}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%]{flex:1 0 auto}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{height:100%}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{margin-left:1ch}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{height:100%}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%] > ._value-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > output[_ngcontent-%COMP%]{padding-top:.25em;padding-right:2ch;font-weight:700;text-decoration:underline double}._values-form[_ngcontent-%COMP%] > ._value-container[_ngcontent-%COMP%]   ._value-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}"],changeDetection:0})};var pe="dynamic-section-data",P=class n{keyName=`${u(K)}-${pe}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(t){return localStorage.setItem(this.keyName,JSON.stringify(t))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})};function se(n,t){if(n&1){let e=D();a(0,"app-dynamic-section-form",1),Q("dataChange",function(c){f(e);let m=d();return H(m.dataResource.value,c)||(m.dataResource.value=c),y(c)}),r()}if(n&2){let e=d();G("data",e.dataResource.value)}}var R=class n{dataStorage=u(P);dataResource=k({loader:async()=>await this.dataStorage.get()??ce()});constructor(){L(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-dynamic-section-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,i){e&1&&M(0,se,1,1,"app-dynamic-section-form",0),e&2&&S(i.dataResource.hasValue()?0:-1)},dependencies:[N],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};function _e(n,t){if(n&1&&(s(0,"dt"),o(1," number "),s(2,"span",6),o(3),g()(),s(4,"dd",7),o(5),w(6,"number"),g()),n&2){let e=t.$implicit,i=t.$index;l(3),_(i+1),l(2),_(E(6,2,e))}}function ge(n,t){if(n&1&&(s(0,"section",2)(1,"h3"),o(2," Section "),s(3,"span",3),o(4),g()(),s(5,"dl",4),v(6,_e,7,4,null,null,J),s(8,"dt"),o(9,"Result"),g(),s(10,"dd",5),o(11),w(12,"number"),g()()()),n&2){let e=t.$implicit,i=t.$index,c=d();l(4),_(i+1),l(2),b(e),l(5),_(E(12,2,c.totals()[i]))}}var $=class n{data=X.required();totals=U(()=>this.data().reduce((t,e)=>[...t,e.reduce((i,c)=>i+c,0)],[]));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-dynamic-section-view"]],inputs:{data:[1,"data"]},decls:5,vars:0,consts:[[1,"_items-container"],[1,"_items-title"],[1,"_item-container"],[1,"_item-title-no","app-cl-number"],[1,"_values-container"],[1,"_values-total","app-cl-number"],[1,"_value-title-no","app-cl-number"],[1,"app-cl-number"]],template:function(e,i){e&1&&(s(0,"article",0)(1,"h2",1),o(2,"Sections"),g(),v(3,ge,13,4,"section",2,O),g()),e&2&&(l(3),b(i.data()))},dependencies:[V],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._items-title[_ngcontent-%COMP%]{text-align:center}._item-container[_ngcontent-%COMP%]   ._item-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-right:auto}@layer{._values-container[_ngcontent-%COMP%]{--_column-gap: var(--app-column-gap);--_row-gap: var(--app-row-gap)}}._values-container[_ngcontent-%COMP%]:is(dl){display:grid;align-items:baseline;grid-template-columns:auto 1fr;column-gap:var(--_column-gap);row-gap:var(--_row-gap)}._values-container[_ngcontent-%COMP%]:is(dl) > dt[_ngcontent-%COMP%]{font-weight:700}._values-container[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{margin-left:0}@layer{._values-container[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{text-align:justify}}._values-container[_ngcontent-%COMP%]{padding-left:64px}._values-container[_ngcontent-%COMP%]   ._value-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-right:auto}._values-container[_ngcontent-%COMP%]   ._values-total[_ngcontent-%COMP%]{font-weight:700;text-decoration:underline double}"],changeDetection:0})};function ue(n,t){n&1&&x(0,"app-dynamic-section-view",0),n&2&&C("data",t)}function fe(n,t){n&1&&(a(0,"p",1)(1,"i",2),o(2,"warning"),r(),o(3," Not Found!!! "),r())}function ye(n,t){if(n&1&&M(0,ue,1,1,"app-dynamic-section-view",0)(1,fe,4,0,"p",1),n&2){let e,i=d();S((e=i.dataResource.value())?0:1,e)}}var z=class n{dataStorage=u(P);dataResource=k({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||n)};static \u0275cmp=p({type:n,selectors:[["app-dynamic-section-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,i){e&1&&M(0,ye,2,1),e&2&&S(i.dataResource.hasValue()?0:-1)},dependencies:[$],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._message[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:var(--app-column-gap);font-size:xx-large;font-weight:600;margin-top:64px}._message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:xx-large}"],changeDetection:0})};var Ze=[{path:"",component:I,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:z},{path:"form",component:R}]}];export{Ze as default};
