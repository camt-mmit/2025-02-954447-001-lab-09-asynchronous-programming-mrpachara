import{a as ne,b as ie,c as oe,e as re}from"./chunk-GFJV3YQ4.js";import{$ as J,A as f,D as u,E as P,G as v,H as O,J as j,K as A,L,M as _,N as a,O as r,P as c,Q as p,R as s,S as E,T as w,U as g,V as i,W as b,X as K,Y as B,Z as W,_ as q,ba as G,ca as H,da as Q,fa as F,ga as U,ha as X,i as T,ia as Y,k as C,ka as Z,la as ee,m as y,ma as te,n as x,u as $,x as z,y as l}from"./chunk-PETORDL5.js";function R(){return""}function ae(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[R()]}}function de(o,n){if(o&1){let e=E();a(0,"div",10)(1,"button",11),w("click",function(){let d=y(e).$index,m=g();return x(m.moveFriend(d,-1))}),a(2,"i",9),i(3,"arrow_upward_alt"),r()(),a(4,"button",11),w("click",function(){let d=y(e).$index,m=g();return x(m.moveFriend(d,1))}),a(5,"i",9),i(6,"arrow_downward_alt"),r()(),a(7,"span",12)(8,"label")(9,"b"),i(10," Friend "),a(11,"span",13),i(12),r()(),c(13,"input",3),u(),r()(),a(14,"button",14),w("click",function(){let d=y(e).$index,m=g();return x(m.removeFriend(d))}),a(15,"i",9),i(16,"delete_forever"),r()()()}if(o&2){let e=n.$implicit,t=n.$index,d=n.$index,m=n.$count,le=n.$count;l(),_("disabled",d===0),l(3),_("disabled",d===le-1),l(8),b(t+1),l(),P(e,"formField"),l(),_("disabled",m===1)}}var S=class o{data=X.required();friendsCountKey=ie();form=oe(this.data,n=>{ne(n.friends,this.friendsCountKey,({value:e})=>e().length)});addFriend(){this.form.friends().value.update(n=>[...n,R()])}removeFriend(n){this.form.friends().value.update(e=>e.filter((t,d)=>d!==n))}moveFriend(n,e){this.form.friends().value.update(t=>t.map((d,m)=>m===n?t[n+e]:m===n+e?t[n]:d))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:33,vars:15,consts:[[1,"_main-form",3,"disabled"],[1,"_info-form"],["type","text","inputmode","numeric",3,"formField"],["type","text",3,"formField"],["type","number",3,"formField"],["rows","5",3,"formField"],[1,"_friends-form",3,"disabled"],[1,"app-cl-number"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_friend-container"],["type","button",1,"app-cmp-button",3,"click","disabled"],[1,"_friend-input"],[1,"_friend-title-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,t){e&1&&(a(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),i(4,"Student ID"),r(),c(5,"input",2),u(),r(),a(6,"label")(7,"b"),i(8,"Firstname"),r(),c(9,"input",3),u(),r(),a(10,"label")(11,"b"),i(12,"Lastname"),r(),c(13,"input",3),u(),r(),a(14,"label")(15,"b"),i(16,"Age"),r(),c(17,"input",4),u(),r(),a(18,"label")(19,"b"),i(20,"Autobiography"),r(),c(21,"textarea",5),u(),r()(),a(22,"fieldset",6)(23,"legend"),i(24," Friends "),a(25,"span",7),i(26),G(27,"number"),r(),a(28,"button",8),w("click",function(){return t.addFriend()}),a(29,"i",9),i(30,"add"),r()()(),A(31,de,17,6,"div",10,j),r()()),e&2&&(_("disabled",t.form().disabled()),l(5),P(t.form.studentId,"formField"),l(4),P(t.form.firstname,"formField"),l(4),P(t.form.lastname,"formField"),l(4),P(t.form.age,"formField"),l(4),P(t.form.autobiography,"formField"),l(),_("disabled",t.form.friends().disabled()),l(4),K("(",H(27,13,t.form.friends().metadata(t.friendsCountKey)()),")"),l(5),L(t.form.friends))},dependencies:[re,Y],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-form[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._info-form[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._info-form[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:15ch;margin-right:1ch}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._info-form[_ngcontent-%COMP%]{width:100%}@layer{._friends-form[_ngcontent-%COMP%]{--_margin-top: var(--app-row-gap);--_legend-column-gap: var(--app-column-gap);--_body-gap: var(--app-row-gap);--_border-color: var(--app-on-surface-color)}}._friends-form[_ngcontent-%COMP%]{margin-top:var(--_margin-top);border:1px solid var(--_border-color)}._friends-form[_ngcontent-%COMP%] > legend[_ngcontent-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;column-gap:var(--_legend-column-gap);margin-bottom:var(--_body-gap)}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:10ch;margin-right:1ch}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%]{flex:1 0 auto}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{height:100%}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{margin-left:1ch}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%] > ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{height:100%}._friends-form[_ngcontent-%COMP%] > ._friend-container[_ngcontent-%COMP%]   ._friend-title-no[_ngcontent-%COMP%]{display:inline-block;width:3ch;padding-left:1ch;margin-left:auto}"],changeDetection:0})};var me="profile-data",M=class o{keyName=`${C(z)}-${me}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(n){return localStorage.setItem(this.keyName,JSON.stringify(n))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};function ce(o,n){if(o&1){let e=E();a(0,"app-profile-form",1),J("dataChange",function(d){y(e);let m=g();return q(m.dataResource.value,d)||(m.dataResource.value=d),x(d)}),r()}if(o&2){let e=g();W("data",e.dataResource.value)}}var k=class o{dataStorage=C(M);dataResource=F({loader:async()=>await this.dataStorage.get()??ae()});constructor(){$(async()=>{this.dataResource.hasValue()&&await this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,t){e&1&&v(0,ce,1,1,"app-profile-form",0),e&2&&O(t.dataResource.hasValue()?0:-1)},dependencies:[S],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var I=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-profile-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,t){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),i(5,"view_list"),r(),i(6," View "),r()(),a(7,"li",1)(8,"a",4)(9,"i",3),i(10,"edit_document"),r(),i(11," Form "),r()()()(),c(12,"router-outlet"))},dependencies:[ee,te,Z],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var V=class o{data=U.required();friends=Q(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:23,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,t){e&1&&(p(0,"dl",0)(1,"dt"),i(2,"Student ID"),s(),p(3,"dd")(4,"span",1),i(5),s()(),p(6,"dt"),i(7,"Fullname"),s(),p(8,"dd"),i(9),s(),p(10,"dt"),i(11,"Age"),s(),p(12,"dd")(13,"span",2),i(14),s()(),p(15,"dt"),i(16,"Autobiography"),s(),p(17,"dd",3),i(18),s(),p(19,"dt"),i(20,"Friends"),s(),p(21,"dd"),i(22),s()()),e&2&&(l(5),b(t.data().studentId),l(4),B("",t.data().firstname," ",t.data().lastname),l(5),b(t.data().age),l(4),b(t.data().autobiography),l(4),b(t.friends()))},styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._main-data[_ngcontent-%COMP%]{--_column-gap: var(--app-column-gap);--_row-gap: var(--app-row-gap)}}._main-data[_ngcontent-%COMP%]:is(dl){display:grid;align-items:baseline;grid-template-columns:auto 1fr;column-gap:var(--_column-gap);row-gap:var(--_row-gap)}._main-data[_ngcontent-%COMP%]:is(dl) > dt[_ngcontent-%COMP%]{font-weight:700}._main-data[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{margin-left:0}@layer{._main-data[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{text-align:justify}}._autobiography[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0})};function pe(o,n){o&1&&c(0,"app-profile-view",0),o&2&&_("data",n)}function se(o,n){o&1&&(a(0,"p",1)(1,"i",2),i(2,"warning"),r(),i(3," Not Found!!! "),r())}function fe(o,n){if(o&1&&v(0,pe,1,1,"app-profile-view",0)(1,se,4,0,"p",1),o&2){let e,t=g();O((e=t.dataResource.value())?0:1,e)}}var N=class o{dataStorage=C(M);dataResource=F({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,t){e&1&&v(0,fe,2,1),e&2&&O(t.dataResource.hasValue()?0:-1)},dependencies:[V],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._message[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:var(--app-column-gap);font-size:xx-large;font-weight:600;margin-top:64px}._message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:xx-large}"],changeDetection:0})};var Ge=[{path:"",component:I,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:N},{path:"form",component:k}]}];export{Ge as default};
